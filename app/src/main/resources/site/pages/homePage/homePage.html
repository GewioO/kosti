<!DOCTYPE html>
<html>
  <head data-th-utext="${pageComponents.pagehead}"></head>

  <body class="homepage transparent-header">
    <div
      data-th-remove="tag"
      data-th-utext="${pageComponents.loginRegisterModal}"
    ></div>

    <header class="header" data-th-utext="${pageComponents.header}"></header>
    <main class="main">
      <div class="homepage_slider js_homepage_slider">
        <div data-th-each="slide: ${slider}">
          <div class="slick-body">
            <div class="slick-img_wrap">
              <picture>
                <source
                  data-th-srcset="${slide.image.url}"
                  media="(min-width: 600px)"
                />
                <img data-th-src="${slide.image.url}" class="slick-img" />
              </picture>
            </div>
            <div class="slick-content blog_width">
              <div class="post-info">
                <a data-th-href="${slide.author.url}">
                  <span class="post-user_avatar">
                    <img data-th-src="${slide.author.image.url}" alt="" />
                  </span>
                  <span
                    class="post-user_name"
                    data-th-text="${slide.author.displayName}"
                  ></span>
                </a>
                <span class="post-date" data-th-text="${slide.date}"></span>
              </div>
              <a
                data-th-href="${slide.url}"
                class="slick-title"
                data-th-text="${slide.displayName}"
              ></a>
              <div
                class="slick-caption"
                data-th-utext="${slide.data.shortIntro}"
              ></div>
              <div class="slick-action">
                <a
                  data-th-href="${slide.url}"
                  class="slick-read_btn"
                  data-th-text="${portal.localize({'_key=homepage.title.read', '_locale=ru'})}"
                  data-th-title="${portal.localize({'_key=homepage.title.read', '_locale=ru'})}"
                ></a>
                <span
                  class="slick-add_to_bookmarks_btn js_bookmarks"
                  data-th-classappend="${slide.bookmarked} ? 'active' : ''"
                  data-th-attr="data-contentId=${slide._id}"
                  data-th-text="${slide.bookmarked} ? 'В ЗАКЛАДКАХ' : 'В ЗАКЛАДКИ'"
                  data-th-title="${slide.bookmarked} ? 'В ЗАКЛАДКАХ' : 'В ЗАКЛАДКИ'"
                ></span>
                <span
                  data-th-attr="data-contentId=${slide._id}"
                  class="like-btn icon-rock js_like-article"
                  data-th-classappend="${slide.voted} ? 'active' : ''"
                >
                  <span data-th-text="${slide.votes}"></span>
                </span>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="latest_news">
        <div class="blog_width">
          <div class="freshest">
            <h4
              class="latest_news-title"
              data-th-text="${portal.localize({'_key=homepage.title.freshest', '_locale=ru'})}"
            ></h4>
            <div class="latest_news-iframe_wrap">
              <iframe data-th-src="${video}"> </iframe>
            </div>
          </div>
          <div class="schedule">
            <h4
              class="latest_news-title"
              data-th-text="${portal.localize({'_key=homepage.title.schedule', '_locale=ru'})}"
            ></h4>
            <div
              data-th-each="scheduleItem: ${schedule}"
              class="schedule-item"
              data-th-style="${'background-image:url(\'' + scheduleItem.image.url} + '\')'"
            >
              <div class="schedule-content">
                <div class="schedule-date">
                  <span class="date" data-th-text="${scheduleItem.day}"></span>
                  <span
                    class="month"
                    data-th-text="${scheduleItem.month}"
                  ></span>
                </div>
                <h3
                  class="schedule-title"
                  data-th-text="${scheduleItem.displayName}"
                ></h3>
                <div class="tag-list tag-list__small hidden">
                  <a href="#" class="tag-item">D&D</a>
                  <a href="#" class="tag-item">5e</a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="main_blog">
        <div class="blog blog_width clearfix">
          <div class="blog-navigation js_blog-navigation">
            <a
              data-th-href="${portal.pageUrl({'_path='+content._path})}"
              class="hotter-btn"
              data-type="hot"
              data-th-classappend="${active.hot}"
              data-th-text="${portal.localize({'_key=homepage.title.hot', '_locale=ru'})}"
            ></a>
            <a
              data-th-href="${portal.pageUrl({'_path='+content._path,'feed=new'})}"
              data-type="new"
              class="fresher-btn"
              data-th-classappend="${active.new}"
              data-th-text="${portal.localize({'_key=homepage.title.fresh', '_locale=ru'})}"
            ></a>
            <a
              data-th-href="${portal.pageUrl({'_path='+content._path,'feed=bookmarks'})}"
              data-type="bookmarks"
              class="bookmarks-btn"
              data-th-classappend="${active.bookmarks}"
              data-th-text="${portal.localize({'_key=homepage.title.bookmarks', '_locale=ru'})}"
            ></a>
          </div>
          <div class="blog-list-wrap">
            <div
              class="blog-list"
              data-th-utext="${articles}"
              data-page="1"
            ></div>
            <button
              class="blog-upload_more js_blog-load_more"
              data-th-title="${loadMoreText}"
              data-th-text="${loadMoreText}"
            ></button>
            <div
              class="blog-list-empty js_blog-list-empty hidden"
              data-th-text="${portal.localize({'_key=user.title.articles.noMore', '_locale=ru'})}"
            ></div>
            <div class="lds-ring js_lazyload-icon hidden">
              <div></div>
              <div></div>
              <div></div>
              <div></div>
            </div>
          </div>
          <div class="blog-sidebar" data-th-utext="${sidebar}"></div>
        </div>
      </div>
    </main>
    <footer class="footer" data-th-utext="${pageComponents.footer}"></footer>
  </body>
</html>
